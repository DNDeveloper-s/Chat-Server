<%- include('includes/head.ejs') %>
<link rel="stylesheet" href="/assets/css/fonts.css">
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="/css/material-icons.css">
</head>
<body>

    <div id="root" > <!-- class="namespace-interchange" -->
        <!-- Left Side Nav bar -->
        <div class="nav_bar">
            <div class="userDetails-NameSpace_container">
                <!-- User Details Container -->
                <div class="user_dp image_holder userLink" data-userId="<%= user._id %>">
                    <img src="<%= user.image %>" alt="DNDeveloper">
                    <!-- Notification Count -->
                    <div class="notification-count"><%= user.notifications.count %></div>
                </div>
                <hr>
                <!-- Add New NameSpace Container -->
                <div class="add-name_space image_holder">
                    <img src="/assets/images/add.png" alt="add-icon">
                </div>
                <hr>
                <!-- NameSpace Container -->
                <div class="nameSpaceContainer">
                    <% for(let workSpace of workSpaces) { %>
                        <div class="name_space image_holder anim" data-ns="<%= workSpace.endPoint %>" data-animtochilds="false" data-animdelay="0" data-animdirection="topToBottom" data-startoffset="3px" style="transition: all 0.25s ease-in-out 0s; opacity: 1; animation: 0s ease 0s 1 normal none running none; transform: none;">
                            <!-- <img src="/assets/images/Capture.PNG" alt="<%= workSpace.title %>" title="<%= workSpace.title %>"> -->
                            <p><%= workSpace.title %></p>
                        </div>
                    <% } %>
<!--                    <div class="name_space image_holder anim" ns="/wikit" data-animtochilds="false" data-animdelay="0" data-animdirection="topToBottom" data-startoffset="3px" style="transition: all 0.25s ease-in-out 0s; opacity: 1; animation: 0s ease 0s 1 normal none running none; transform: none;">-->
<!--                        <img src="/assets/images/Capture.PNG" alt="wikit" title="wikit">-->
<!--                    </div>-->
<!--                    <div class="name_space image_holder" ns="/dndeveloper">-->
<!--                         <img src="./assets/images/Capture.PNG" alt="DNDeveloper" title="">-->
<!--                    </div>-->
<!--                    <div class="name_space image_holder" ns="/ewl">-->
<!--                         <img src="./assets/images/IMG_20191019_011435.jpg" alt="DNDeveloper">-->
<!--                    </div>-->
<!--                    <div class="name_space image_holder" ns="/devils">-->
<!--                         <img src="./assets/images/saurabh_with_laptop_front.jpg" alt="DNDeveloper">-->
<!--                    </div>-->
<!--                    <div class="name_space image_holder">-->
<!--                         <img src="./assets/images/Saurabh_DP_square.jpg" alt="DNDeveloper">-->
<!--                    </div>-->
                </div>
                <hr class="logout">
                <!-- Logout Button Element -->
                <div class="logout-btn image_holder">
                    <img src="/assets/images/logout.png" alt="logout-icon">
                </div>
            </div>
            <div class="nameSpaceDetails-Room_container">
                <div class="namespace-name">
                    <div class="namespace-event">
                        <h3><%= config.defaultWorkSpace ? config.defaultWorkSpace.title.toUpperCase() : "" %></h3><i class="material-icons">arrow_drop_down</i>
                    </div>
                    <div class="ns-options dropdown">
                        <div class="ns-option workspace-settings removeBackDropOnClick">
                            <p class="red">Workspace Settings</p>
                        </div>
                        <div class="ns-option invite-friend removeBackDropOnClick">
                            <p class="green">Invite Friend</p>
                        </div>
                    </div>
                </div>
                <!-- Room Container -->
                <div class="roomContainer">
                    <h4 class="room-group-name">Rooms</h4>
                    <!-- Real Rooms -->
<!--                    <div class="room anim" data-id="5e0f1444ff19141a58ef4ce0" data-nsid="5e0e4d536ab3a74520d9e359" data-ns="wikit" data-animtochilds="false" data-animdelay="0.1" data-animchilddelays="0.1" data-animdirection="leftToRight" data-startoffset="3px" style="transition: all 0.25s ease-in-out 0s; opacity: 1; animation: 0s ease 0s 1 normal none running none; transform: none;">-->
<!--                        <div class="room-name">-->
<!--                            <span># </span><span>2345</span></div>-->
<!--                        <i class="pointer material-icons delete-room">delete</i>-->
<!--                    </div>-->
<!--                    <div class="room anim" data-id="5e0f1444ff19141a58ef4ce0" data-nsid="5e0e4d536ab3a74520d9e359" data-ns="wikit" data-animtochilds="false" data-animdelay="0.1" data-animchilddelays="0.1" data-animdirection="leftToRight" data-startoffset="3px" style="transition: all 0.25s ease-in-out 0s; opacity: 1; animation: 0s ease 0s 1 normal none running none; transform: none;">-->
<!--                        <div class="room-name"><span># </span><span>2345</span></div>-->
<!--                        <i class="pointer material-icons delete-room">delete</i>-->
<!--                    </div>-->
<!--                        <div class="room">-->
<!--                            <div class="room-name"><span># </span><span>general</span></div>-->
<!--                            <i class="pointer material-icons">delete</i>-->
<!--                        </div>-->
<!--                        <hr>-->
<!--                    <div class="room">-->
<!--                        <div class="room-name"><span># </span><span>announcements</span></div>-->
<!--                    </div>-->
<!--                    <hr>-->
<!--                    <div class="room">-->
<!--                        <div class="room-name"><span># </span><span>bots</span></div>-->
<!--                    </div>-->
<!--                    <hr>-->
<!--                    <div class="room">-->
<!--                        <div class="room-name"><span># </span><span>music</span></div>-->
<!--                    </div>-->
<!--                    <hr>-->
<!--                    <div class="room">-->
<!--                        <div class="room-name"><span># </span><span>others</span></div>-->
<!--                    </div>-->
<!--                    <hr>-->
                </div>
                <button class="pointer add-room">Add Room</button>
            </div>
        </div>
        <!-- Main Message display bar -->
        <div class="main_bar">
            <!-- Room Details on top of the message container -->
            <div class="room-details">
                <!-- Left Bar on top message -->
                <div class="keepItLeft">
                    <div class="current-room-name">
                        <span><%= user.name %></span>
                    </div>
                    <div class="users-online" title="No. of online users">
                        <p></p>
                        <i class="material-icons">person</i>
                    </div>
                </div>
                <!-- Right Bar on top message -->
                <div class="keepItRight mob-search-btn">
                    <i class="material-icons">search</i>
                </div>
                <div class="keepItRight mob-drop-down">
                    <input type="text" class="search-bar" placeholder="Search here!">
                    <button class="pointer">Search</button>
                </div>
            </div>
            <!-- Message display container -->
            <div class="message-display__container">
                <!-- Real Message Body -->
               <div class="message">
                   <div class="user-img">
                       <img src="./assets/images/Saurabh_DP_square.jpg" class="message-user_dp" alt="">
                   </div>
                   <div class="message-body">
                       <div class="message-header">
                           <div class="user">
                               <span class="message-user_name">Slim Shady</span>
                           </div>
                           <span class="message-time_stamp">5:20 am</span>
                       </div>
                       <div class="message-data">
                           <p>This is my first message!</p>
                       </div>
                       <div class="message-status">
                           <i class="material-icons">done_all</i>
                       </div>
                   </div>
               </div>
<!--                <div class="message">-->
<!--                    <div class="message-header">-->
<!--                        <div class="user">-->
<!--                            <img src="./assets/images/IMG_20191019_011435.jpg" class="message-user_dp" alt="">-->
<!--                            <span class="message-user_name">Saurabh Singh</span>-->
<!--                        </div>-->
<!--                        <span class="message-time_stamp">5:20 am</span>-->
<!--                    </div>-->
<!--                    <div class="message-data">-->
<!--                        <p>This is not my first one though!</p>-->
<!--                    </div>-->
<!--                    <div class="message-status">-->
<!--                        <i class="material-icons">done_all</i>-->
<!--                    </div>-->
<!--                </div>-->
            </div>
            <!-- Send Message Element -->
            <form class="send-message">
                <input type="text" placeholder="Enter your message!" required>
                <button class="pointer" type="submit">Send<i class="material-icons">send</i></button>
            </form>
        </div>

        <div class="friends-list">
            <% for(let friend of friends) { %>
                <div class="friend pointer userLink" data-userId="<%= friend._id %>" data-status="online" data-profileurl="http://localhost:3000/dashboard/home">
                    <span class="status"></span>
                    <img src="<%= friend.image %>" alt="<%= friend.name %>">
                </div>
            <% } %>
            <!-- <div class="friend pointer" data-status="idle" data-profileurl="http://localhost:3000/dashboard/home">
                <span class="status"></span>
                <img src="/assets/images/Saurabh_DP_square.jpg" alt="DNDeveloper">
            </div>
            <div class="friend pointer" data-status="offline" data-profileurl="http://localhost:3000/dashboard/home">
                <span class="status"></span>
                <img src="/assets/images/Saurabh_DP_square.jpg" alt="DNDeveloper">
            </div> -->
        </div>

        <% if( loadOnDefault ) { %>
            <div class="back-drop"></div>
            <div class="modal" data-id="user_profile" data-userId="<%= gotUser._id %>" tabindex="0">
                <div class="first-choice center-content alone">  
                    <h5 class="bigger">User Profile</h5>
                    <div class="nsImage">
                        <input name="image" type="file" class="input__file input__dp">
                        <figure>
                            <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="30%" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg>
                        </figure>
                        <label for="image" class="dp__name"></label>
                        <img src="<%= gotUser.image %>" alt="<%= gotUser.name %>">
                    </div>
                    <div class="input-control">
                        <label class="finalize" for="">Full Name</label>
                        <input type="text" name="" value="<%= gotUser.name %>" placeholder="Enter Workspace name..." <%= isItAuthenticatedUser ? '' : 'readonly' %>>
                    </div>
                    <div class="input-control">
                        <label for="" class="finalize">Unique userId</label>
                        <input type="text" name="" value="<%= gotUser._id %>" placeholder="Enter Workspace name..." disabled>
                    </div>
                    <% if(isItAuthenticatedUser) { %>
                        <div class="input-control">
                            <label class="finalize" for="Finalize Changes">Finalize Changes</label>
                            <button class="pointer blueLienar yes">Save Changes</button>
                        </div>
                    <% } else if(isFriend) { %>
                        <div class="input-control">
                            <label class="finalize" for="">Write a Message</label>
                            <button class="pointer blueLienar yes">Send Message</button>
                        </div>
                    <% } %>
                </div>
                <% if(!isItAuthenticatedUser && !isFriend) { %>
                    <div class="option-choice center-content" data-id="add_friend">
                        <div class="input-control">
                            <label class="strict-action" for="">Such Action</label>
                            <button class="pointer redLinear another">Add as a Friend</button>
                        </div>
                    </div>
                <% } %>
            </div>
        <% } %>

        <!--  Modal with BackDrop  -->
        <!-- <div class="back-drop"></div>
        <div class="modal blueBg" data-id="notifications" tabindex="0">
            <div class="first-choice center-content alone noRightPadding">  
                <h5 class="bigger bottomMarginInc white">Notifications</h5>
                <div class="notification">
                    <div class="delete-notification pointer">
                        <img src="/assets/images/remove.svg" alt="DNDeveloper">
                    </div>
                    <div class="image">
                        <img src="/assets/images/Saurabh_DP_square.jpg" alt="DNDeveloper">
                    </div>
                    <div class="body">
                        <p>Suraj Singh has sent you friend request.</p>
                    </div>
                    <div class="confirm">
                        <div class="action_btn yes">
                            <img src="/assets/images/check.svg" alt="">
                        </div>
                        <div class="action_btn no">
                            <img src="/assets/images/close.svg" alt="">
                        </div>
                    </div>
                </div>
                <div class="notification">
                    <div class="delete-notification pointer">
                        <img src="/assets/images/remove.svg" alt="DNDeveloper">
                    </div>
                    <div class="image">
                        <img src="/assets/images/Saurabh_DP_square.jpg" alt="DNDeveloper">
                    </div>
                    <div class="body">
                        <p>Radhika Sharma has sent you friend request.</p>
                    </div>
                    <div class="confirm">
                        <div class="action_btn yes">
                            <img src="/assets/images/check.svg" alt="">
                        </div>
                        <div class="action_btn no">
                            <img src="/assets/images/close.svg" alt="">
                        </div>
                    </div>
                </div>
                <div class="notification">
                    <div class="delete-notification pointer">
                        <img src="/assets/images/remove.svg" alt="DNDeveloper">
                    </div>
                    <div class="image">
                        <img src="/assets/images/Saurabh_DP_square.jpg" alt="DNDeveloper">
                    </div>
                    <div class="body">
                        <p>Hina has sent you friend request.</p>
                    </div>
                    <div class="confirm">
                        <div class="action_btn yes">
                            <img src="/assets/images/check.svg" alt="">
                        </div>
                        <div class="action_btn no">
                            <img src="/assets/images/close.svg" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div> -->
        <!-- <div class="modal blueBg" data-id="notifications" tabindex="0">
            <div class="first-choice center-content alone noRightPadding">  
                <h5 class="bigger bottomMarginInc white">Notifications</h5>
                <div class="nothing_to_show">
                    <hr>
                    No New Notifications
                </div>
            </div>
        </div> -->
        <!-- <div class="modal" data-id="user_profile" tabindex="0">
            <div class="first-choice center-content alone">  
                <h5 class="bigger">User Profile</h5>
                <div class="nsImage">
                    <input name="image" type="file" class="input__file input__dp">
                    <figure>
                        <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="30%" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"/></svg>
                    </figure>
                    <label for="image" class="dp__name"></label>
                    <img src="/assets/images/Saurabh_DP_square.jpg" alt="DNDeveloper">
                </div>
                <div class="input-control">
                    <label class="finalize" for="">Full Name</label>
                    <input type="text" name="" value="boys" placeholder="Enter Workspace name..." readonly>
                </div>
                <div class="input-control">
                    <label for="" class="finalize">Unique userId</label>
                    <input type="text" name="" value="boys8068659" placeholder="Enter Workspace name...">
                </div>
                <div class="input-control">
                    <label class="finalize" for="">Write a Message</label>
                    <button class="pointer blueLienar">Send Message</button>
                </div>
            </div>
            <div class="option-choice center-content">
                <div class="input-control">
                    <label class="strict-action" for="">Such Action</label>
                    <button class="pointer redLinear">Add as a Friend</button>
                </div>
            </div>
        </div> -->
<!--        <div class="back-drop"></div>-->
<!--        <div class="modal max-width-500" data-id="addRoom">-->
<!--            <h4>Are you sure?... You want to delete the room!</h4>-->
<!--            <div class="flex align btns">-->
<!--                <button class="pointer redLinear yes" type="button">Yes</button>-->
<!--                <button class="pointer no" type="button">No</button>-->
<!--            </div>-->
<!--        </div>-->
    </div>


    <script src="/assets/js/dashboard.bundle.js"></script>
    
</body>
</html>